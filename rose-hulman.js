var roseversion="2024100700";console.log("Rose Version: "+roseversion);import e from"https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/+esm";require(["jquery"],function(t){function n(){$("#region-main a:not(a:has(img)), .block_html a:not(a:has(img))").not(".moodle-actionmenu a, .disabled a, a[class*='nav'], .btn, .section-navigation a, footer a, .breadcrumb a, .tree_item a, a[id*='label'], a:has(i), .tree_item").each(function(){0==$(this).prev().find("img").length&&0==$(this).prev().find("i").length&&$(this).text().length>0&&!$(this).find(".card-img-top").length?this.hostname&&this.hostname!==location.hostname?$(this).toggleClass("rhlinknotice_external"):$(this).toggleClass("rhlinknotice"):void 0!==$(this).prev()[0]&&void 0!==$(this).prev()[0].nextSibling&&$(this).prev()[0].nextSibling.length>3&&(this.hostname&&this.hostname!==location.hostname?$(this).toggleClass("rhlinknotice_external"):$(this).toggleClass("rhlinknotice"))})}function i(e,t){($('*[data-fieldtype="editor"]').length>0||$(".qtype_essay_response").length>0||$(".answer input").length>0||$("input[name*='answer[']").length>0)&&($("."+e).length>0?$("."+e).remove():($(".unicodehelper").remove(),$('*[data-fieldtype="editor"], .qtype_essay_response, span.answer input, .d-flex:has(input[name*="answer["])').not('*[data-fieldtype="editor"] textarea').after("<div class='unicodehelper "+e+" col-md-3'></div><div class='unicodehelper "+e+" col-md-9 felement'></div>"),t.forEach(function(e){$(".unicodehelper.felement").append("<input type='button' value='"+e+"' />")}),$(".unicodehelper input").each(function(){$(this).on("mousedown",function(e){var t,n,i;if($(this).closest("span.answer").find("input").length?document.activeElement!==$(this).closest("span.answer").find("input")[0]&&$(this).closest("span.answer").find("input").first().focus():$(this).parent().parent().find("input[name*='answer[']").length?document.activeElement!==$(this).parent().parent().find("input[name*='answer[']")[0]&&$(this).parent().parent().find("input[name*='answer[']").focus():$(this).parent("div").parent("div").find("div [contenteditable]").length?document.activeElement!==$(this).parent("div").parent("div").find("div [contenteditable]")[0]&&($(this).parent("div").parent("div").find("div [contenteditable]").focus(),t=$(this).parent("div").parent("div").find("div [contenteditable]")[0],document.createRange?((n=document.createRange()).selectNodeContents(t),n.collapse(!1),(i=window.getSelection()).removeAllRanges(),i.addRange(n)):document.selection&&((n=document.body.createTextRange()).moveToElementText(t),n.collapse(!1),n.select())):$(this).parent("div").parent("div").find("iframe").length?document.activeElement!==$(this).parent("div").parent("div").find("div [contenteditable]")[0]&&$(this).parent("div").parent("div").find("iframe").focus():$(this).parent("div").parent("div").find('*[data-fieldtype="editor"] textarea').length&&document.activeElement!==$(this).parent("div").parent("div").find('*[data-fieldtype="editor"] textarea')[0]&&$(this).parent("div").parent("div").find('*[data-fieldtype="editor"] textarea').first().focus(),document.execCommand("insertText",!1,$(this).val()));else if("input"===document.activeElement.tagName.toLowerCase())$(document.activeElement).val($(document.activeElement).val()+$(this).val());else if(void 0!==document.activeElement.contentDocument&&document.activeElement.contentDocument.execCommand("insertText",!1,$(this).val()));else{var a=$("<div class='unicodehelper_copynotice'>"+$(this).val()+" Copied</div>");$("body").append(a),$(".unicodehelper_copynotice").fadeOut(1e3,function(){$(this).remove()});var o=document.createTextNode($(this).val()),d=window.getSelection(),r=document.createRange(),_=null;d.rangeCount>0&&(_=d.getRangeAt(d.rangeCount-1).cloneRange()),document.body.appendChild(o),d.removeAllRanges(),r.selectNodeContents(o),d.addRange(r),document.execCommand("copy"),o.remove()}return e.preventDefault(),!1})})))}window.rosekeycode=function(e,n){t.each(e,function(e,t){try{var i=new KeyboardEvent("keydown",{bubbles:!0});Object.defineProperty(i,"keyCode",{get:function(){return this.keyCodeVal}}),i.keyCodeVal=t,document.body.dispatchEvent(i)}catch(a){var o=document.createEventObject?document.createEventObject():document.createEvent("Events");o.initEvent&&o.initEvent("keydown",!0,!0),o.keyCode=t,o.which=t,n.dispatchEvent?n.dispatchEvent(o):n.fireEvent("onkeydown",o)}});try{var i=new KeyboardEvent("keyup",{bubbles:!0});document.body.dispatchEvent(i)}catch(a){var o=document.createEventObject?document.createEventObject():document.createEvent("Events");o.initEvent&&o.initEvent("keyup",!0,!0),n.dispatchEvent?n.dispatchEvent(o):n.fireEvent("onkeyup",o)}},window.waitFor=function(e,n,i=!1){t(e).length?n():(!1===i||i>0)&&(!1!=i&&i--,setTimeout(function(){waitFor(e,n,i)},100))},window.getQueryVariable=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}return!1};var a={},o=!1,d=!1;function r(e,t,n){var i=navigator.platform.toUpperCase().indexOf("MAC")>=0,a={};return a.title='<i class="icon fa fa-'+e+' fa-fw " aria-hidden="true" aria-label="'+n+'"></i>'+(i?"âŒ˜":"Ctrl")+" + "+(i?"OPTION":"ALT")+" + "+n,a.codes=t,!!Object.entries(a).length&&a}$(document).keydown(function(e){a[e.keyCode]=!0}).keyup(function(t){if((a[91]||a[224]||a[17])&&(o=!0),a[18]&&(d=!0),o&&d&&a[69]&&($(":submit[value='Turn editing on']").length?$(":submit[value='Turn editing on']").click():$(":submit[value='Turn editing off']").length?$(":submit[value='Turn editing off']").click():$("a:contains('Turn editing on')").length?$("a:contains('Turn editing on')")[0].click():$("a:contains('Turn editing off')").length?$("a:contains('Turn editing off')")[0].click():$("button:contains('Customi')").length?$("button:contains('Customi')").click():$("button:contains('Stop customi')").length?$("button:contains('Stop customi')").click():$("button:contains('Turn editing on')").length?$("button:contains('Turn editing on')")[0].click():$("button:contains('Turn editing off')").length?$("button:contains('Turn editing off')")[0].click():$(".editmode-switch-form").length&&$(".editmode-switch-form input").trigger("click")),o&&d&&a[78]){var r=["&#x602;","&#x2260;","&#x226d;","&#x2669;","&#x266a;","&#x266b;","&#x266c;","&#x266d;","&#x266e;","&#x266f;","&#x1d100;","&#x1d101;","&#x1d102;","&#x1d103;","&#x1d104;","&#x1d105;","&#x1d106;","&#x1d107;","&#x1d108;","&#x1d109;","&#x1d10a;","&#x1d10b;","&#x1d10c;","&#x1d10d;","&#x1d10e;","&#x1d10f;","&#x1d110;","&#x1d111;","&#x1d112;","&#x1d113;","&#x1d114;","&#x1d115;","&#x1d116;","&#x1d117;","&#x1d118;","&#x1d119;","&#x1d11a;","&#x1d11b;","&#x1d11c;","&#x1d11d;","&#x1d11e;","&#x1d11f;","&#x1d120;","&#x1d121;","&#x1d122;","&#x1d123;","&#x1d124;","&#x1d125;","&#x1d126;","&#x1d129;","&#x1d12a;","&#x1d12b;","&#x1d12c;","&#x1d12d;","&#x1d12e;","&#x1d12f;","&#x1d130;","&#x1d131;","&#x1d132;","&#x1d133;","&#x1d134;","&#x1d135;","&#x1d136;","&#x1d137;","&#x1d138;","&#x1d139;","&#x1d13a;","&#x1d13b;","&#x1d13c;","&#x1d13d;","&#x1d13e;","&#x1d13f;","&#x1d140;","&#x1d141;","&#x1d142;","&#x1d143;","&#x1d144;","&#x1d145;","&#x1d146;","&#x1d147;","&#x1d148;","&#x1d149;","&#x1d14a;","&#x1d14b;","&#x1d14c;","&#x1d14d;","&#x1d14e;","&#x1d14f;","&#x1d150;","&#x1d151;","&#x1d152;","&#x1d153;","&#x1d154;","&#x1d155;","&#x1d156;","&#x1d157;","&#x1d158;","&#x1d159;","&#x1d15a;","&#x1d15b;","&#x1d15c;","&#x1d15d;","&#x1d15e;","&#x1d15f;","&#x1d160;","&#x1d161;","&#x1d162;","&#x1d163;","&#x1d164;","&#x1d165;","&#x1d166;","&#x1d167;","&#x1d168;","&#x1d169;","&#x1d16a;","&#x1d16b;","&#x1d16c;","&#x1d16d;","&#x1d16e;","&#x1d16f;","&#x1d170;","&#x1d171;","&#x1d172;","&#x1d17b;","&#x1d17c;","&#x1d17d;","&#x1d17e;","&#x1d17f;","&#x1d180;","&#x1d181;","&#x1d182;","&#x1d183;","&#x1d184;","&#x1d185;","&#x1d186;","&#x1d187;","&#x1d188;","&#x1d189;","&#x1d18a;","&#x1d18b;","&#x1d18c;","&#x1d18d;","&#x1d18e;","&#x1d18f;","&#x1d190;","&#x1d191;","&#x1d192;","&#x1d193;","&#x1d194;","&#x1d195;","&#x1d196;","&#x1d197;","&#x1d198;","&#x1d199;","&#x1d19a;","&#x1d19b;","&#x1d19c;","&#x1d19d;","&#x1d19e;","&#x1d19f;","&#x1d1a0;","&#x1d1a1;","&#x1d1a2;","&#x1d1a3;","&#x1d1a4;","&#x1d1a5;","&#x1d1a6;","&#x1d1a7;","&#x1d1a8;","&#x1d1a9;","&#x1d1aa;","&#x1d1ab;","&#x1d1ac;","&#x1d1ad;","&#x1d1ae;","&#x1d1af;","&#x1d1b0;","&#x1d1b1;","&#x1d1b2;","&#x1d1b3;","&#x1d1b4;","&#x1d1b5;","&#x1d1b6;","&#x1d1b7;","&#x1d1b8;","&#x1d1b9;","&#x1d1ba;","&#x1d1bb;","&#x1d1bc;","&#x1d1bd;","&#x1d1be;","&#x1d1bf;","&#x1d1c0;","&#x1d1c1;","&#x1d1c2;","&#x1d1c3;","&#x1d1c4;","&#x1d1c5;","&#x1d1c6;","&#x1d1c7;","&#x1d1c8;","&#x1d1c9;","&#x1d1ca;","&#x1d1cb;","&#x1d1cc;","&#x1d1cd;","&#x1d1ce;","&#x1d1cf;","&#x1d1d0;","&#x1d1d1;","&#x1d1d2;","&#x1d1d3;","&#x1d1d4;","&#x1d1d5;","&#x1d1d6;","&#x1d1d7;","&#x1d1d8;","&#x1d1d9;","&#x1d1da;","&#x1d1db;","&#x1d1dc;","&#x1d1dd;","&#x1d1de;","&#x1d1df;","&#x1d1e0;","&#x1d1e1;","&#x1d1e2;","&#x1d1e3;","&#x1d1e4;","&#x1d1e5;","&#x1d1e6;","&#x1d1e7;","&#x1d1e8;","&#x1f398;","&#x1f399;","&#x1f39a;","&#x1f39b;","&#x1f39c;","&#x1f39d;"];i("musichelper",r)}if(o&&d&&a[77]){var r=["&#8704;","&#8705;","&#8706;","&#8707;","&#8708;","&#8709;","&#8710;","&#8711;","&#8712;","&#8713;","&#8714;","&#8715;","&#8716;","&#8717;","&#8718;","&#8719;","&#8720;","&#8721;","&#8722;","&#8723;","&#8724;","&#8725;","&#8726;","&#8727;","&#8728;","&#8729;","&#8730;","&#8731;","&#8732;","&#8733;","&#8734;","&#8735;","&#8736;","&#8737;","&#8738;","&#8739;","&#8740;","&#8741;","&#8742;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8748;","&#8749;","&#8750;","&#8751;","&#8752;","&#8753;","&#8754;","&#8755;","&#8756;","&#8757;","&#8758;","&#8759;","&#8760;","&#8761;","&#8762;","&#8763;","&#8764;","&#8765;","&#8766;","&#8767;","&#8768;","&#8769;","&#8770;","&#8771;","&#8772;","&#8773;","&#8774;","&#8775;","&#8776;","&#8777;","&#8778;","&#8779;","&#8780;","&#8781;","&#8782;","&#8783;","&#8784;","&#8785;","&#8786;","&#8787;","&#8788;","&#8789;","&#8790;","&#8791;","&#8792;","&#8793;","&#8794;","&#8795;","&#8796;","&#8797;","&#8798;","&#8799;","&#8800;","&#8801;","&#8802;","&#8803;","&#8804;","&#8805;","&#8806;","&#8807;","&#8808;","&#8809;","&#8810;","&#8811;","&#8812;","&#8813;","&#8814;","&#8815;","&#8816;","&#8817;","&#8818;","&#8819;","&#8820;","&#8821;","&#8822;","&#8823;","&#8824;","&#8825;","&#8826;","&#8827;","&#8828;","&#8829;","&#8830;","&#8831;","&#8832;","&#8833;","&#8834;","&#8835;","&#8836;","&#8837;","&#8838;","&#8839;","&#8840;","&#8841;","&#8842;","&#8843;","&#8844;","&#8845;","&#8846;","&#8847;","&#8848;","&#8849;","&#8850;","&#8851;","&#8852;","&#8853;","&#8854;","&#8855;","&#8856;","&#8857;","&#8858;","&#8859;","&#8860;","&#8861;","&#8862;","&#8863;","&#8864;","&#8865;","&#8866;","&#8867;","&#8868;","&#8869;","&#8870;","&#8871;","&#8872;","&#8873;","&#8874;","&#8875;","&#8876;","&#8877;","&#8878;","&#8879;","&#8880;","&#8881;","&#8882;","&#8883;","&#8884;","&#8885;","&#8886;","&#8887;","&#8888;","&#8889;","&#8890;","&#8891;","&#8892;","&#8893;","&#8894;","&#8895;","&#8896;","&#8897;","&#8898;","&#8899;","&#8900;","&#8901;","&#8902;","&#8903;","&#8904;","&#8905;","&#8906;","&#8907;","&#8908;","&#8909;","&#8910;","&#8911;","&#8912;","&#8913;","&#8914;","&#8915;","&#8916;","&#8917;","&#8918;","&#8919;","&#8920;","&#8921;","&#8922;","&#8923;","&#8924;","&#8925;","&#8926;","&#8927;","&#8928;","&#8929;","&#8930;","&#8931;","&#8932;","&#8933;","&#8934;","&#8935;","&#8936;","&#8937;","&#8938;","&#8939;","&#8940;","&#8941;","&#8942;","&#8943;","&#8944;","&#8945;","&#8946;","&#8947;","&#8948;","&#8949;","&#8950;","&#8951;","&#8952;","&#8953;","&#8954;","&#8955;","&#8956;","&#8957;","&#8958;","&#8959;"];i("mathhelper",r)}if(o&&d&&a[68]){var r=["&aacute;","&eacute;","&iacute;","&oacute;","&uacute;","&ntilde;","&uuml;","&iexcl;","&Aacute;","&Eacute;","&Iacute;","&Oacute;","&Uacute;","&Ntilde;","&Uuml;","&iquest;"];i("diacriticalhelper",r)}if(o&&d&&a[76]){console.clear();let _=window.location.host;var l=$(".contentwithoutlink a[href*='"+_+"'], .contentafterlink a[href*='"+_+"'], .generalbox a[href*='"+_+"'], #pageintro a[href*='"+_+"']").not(".autolink");l.length>0?(console.log("The following links should be checked."),$.each(l,function(e,t){console.log(t)})):console.log("No link issues found.");var s=$('img[alt=""]').not(".icon, .iconlarge, .activityicon");s.length>0&&(s.css({border:"5px solid yellow"}),console.log("The following images do not have alt text added."),$.each(s,function(e,t){console.log(t)}));var c=$('img[src*="draftfile.php"]');c.length>0&&(s.css({border:"8px solid red"}),console.log("The following images are links to unsaved (draft) files and will not work."),$.each(s,function(e,t){console.log(t)})),s.length>0&&c.length>0&&console.log("No image issues found.")}if(o&&d&&a[83]){if($("a.dropdown-item:contains('Switch role to...')").length>0){var h=$("body").attr("class").match(/course-[0-9]+/g)[0].replace("course-","");$('<iframe src="'+M.cfg.wwwroot+"/course/switchrole.php?id="+h+"&switchrole=5&sesskey="+M.cfg.sesskey+'" style="display:none" id="tempframe"></iframe>').appendTo("body"),setTimeout(function(){location.reload()},1e3)}$("a.dropdown-item:contains('Return to my normal role')").length>0&&$("a.dropdown-item:contains('Return to my normal role')")[0].click()}if(o&&d&&a[80]){if($(".navbar").is(":hidden"))$(".navbar").show(),$("#page").show(),$("#page-footer").show(),$("#printable_quiz").remove();else{$(".navbar").hide(),$("#page").hide(),$("#page-footer").hide(),$(".navbar").before('<div id="printable_quiz" style="margin: 40px;"></div>');var f=$(".breadcrumb-item a[title='Quiz']").text();$("#printable_quiz").append("<h1>"+f+"</h1><br /><br />");var u=1;$($(".qno")).each(function(){var e=$('<div class="printable_question" style="overflow: auto;">');$("<strong>Question "+u+"</strong>").appendTo(e),$($(".qtext")[u-1+u-1]).clone().appendTo(e),$($(".que")[u-1]).hasClass("calculated")||$($(".que")[u-1]).hasClass("essay")||$($(".que")[u-1]).hasClass("numerical")||$($(".que")[u-1]).hasClass("shortanswer")?$('<div class="ablock"><br /><br /><br /><br /><br /><br /><br /></div>').appendTo(e):$($(".ablock")[u-1+u-1]).clone().appendTo(e),$("<br /><br /><br />").appendTo(e),$(e).appendTo("#printable_quiz"),u++})}}if(o&&d&&a[66]&&(n(),null!=e.get("rhlinknotice")?e.remove("rhlinknotice"):e.set("rhlinknotice",!0)),o&&d&&a[72]){let x=new Date().toLocaleString(),p=$("body").attr("class").match(/course-[0-9]+/g)[0].replace("course-",""),g=$('a[href$="/course/view.php?id='+p+'"][title!=""][title]:lt(1)').prop("title");void 0===g&&(g=$("title").text());let v="Help requested in course: "+g,m="Time of request: "+x+`
Issue found in course: `+g+" -  "+M.cfg.wwwroot+"/course/view.php?id="+p+`
Exact URL of issue: `+window.location.href+`.

Describe the issue and how to reproduce it:
`;window.location.href="mailto:LearningAndTechnology@rose-hulman.edu?subject="+v+"&body="+encodeURIComponent(m)}for(var b in o&&d&&a[67]&&(null!=e.get("rhhidebrickfieldicon")?(e.remove("rhhidebrickfieldicon"),$(".local-bfaltformat-access-button").parent("span").show(),$(".fa-retweet").parent("a").html(function(e,t){return t.replace("Show AltFormat","Hide AltFormat")})):(e.set("rhhidebrickfieldicon",!0,{expires:365}),$(".local-bfaltformat-access-button").parent("span").hide(),$(".fa-retweet").parent("a").html(function(e,t){return t.replace("Hide AltFormat","Show AltFormat")}))),a)delete a[b];o=!1,d=!1,t.preventDefault()}),$(function(){$(document).ready(function(){setTimeout(function(){var t=[];$(":submit[value='Turn editing on']").length||$("a:contains('Turn editing on')").length||$("button:contains('Turn editing on')").length?t.push(r("pencil","[17,18,69]","E [Editing mode on]")):$(":submit[value='Turn editing off']").length||$("a:contains('Turn editing off')").length||$("button:contains('Turn editing off')").length?t.push(r("pencil","[17,18,69]","E [Editing mode off]")):$(".editmode-switch-form").length?t.push(r("pencil","[17,18,69]","E [Toggle Edit mode]")):$("button:contains('Customi')").length?t.push(r("pencil","[17,18,69]","E ["+$("button:contains('Customi')").text()+"]")):$("button:contains('Stop customi')").length&&t.push(r("pencil","[17,18,69]","E ["+$("button:contains('Stop customi')").text()+"]")),t.length&&t.push(r("unlink","[17,18,76]","L [Run Link Check]")),t.unshift(r("triangle-exclamation","[17,18,72]","H [Get Help from L&T]")),($("a.dropdown-item:contains('Switch role to...')").length>0||$("a.dropdown-item:contains('Return to my normal role')").length>0)&&t.push(r("user-secret","[17,18,83]","S [Toggle Student View]")),($('*[data-fieldtype="editor"]').is(":visible")||$(".qtype_essay_response").length>0||$(".answer input").length>0)&&t.push(r("music","[17,18,78]","N [Toggle Music Notes]")),($('*[data-fieldtype="editor"]').is(":visible")||$(".qtype_essay_response").length>0||$(".answer input").length>0)&&t.push(r("calculator","[17,18,77]","M [Toggle Math Unicode]")),($('*[data-fieldtype="editor"]').is(":visible")||$(".qtype_essay_response").length>0||$(".answer input").length>0)&&t.push(r("language","[17,18,68]","D [Toggle Diacritical Unicode]")),$(".notyetanswered").length>0&&t.push(r("print","[17,18,80]","P [Toggle Printable Quiz]")),$("#region-main a:not(a:has(img)), .block_html a:not(a:has(img))").not(".moodle-actionmenu a, .disabled a, a[class*='nav'], .btn, .section-navigation a, footer a, .breadcrumb a, .tree_item a, a[id*='label'], a:has(i), .tree_item").length>0&&t.push(r("universal-access","[17,18,66]","B [Toggle Bold Links]")),$(".local-bfaltformat-access-button").length>0&&(null!=e.get("rhhidebrickfieldicon")?t.push(r("retweet","[17,18,67]","C [Show AltFormat Icons]")):t.push(r("retweet","[17,18,67]","C [Hide AltFormat Icons]")));var n="";t.length>0&&(t.forEach(function(e){Object.entries(e).length&&(n+='<div class="available_shortcuts_items" onclick="rosekeycode('+e.codes+', this);"><a class="btn btn-primary" href="javascript:void(0);">'+e.title+"</a></div>")}),$("footer").before("<div id='available_shortcuts_popup'><div id='available_shortcuts_tab'>Shortcuts</div><div id='available_shortcuts_inner'>"+n+"</div></div>"))},1500),null!=e.get("rhlinknotice")&&n(),setInterval(function(){null!=e.get("rhhidebrickfieldicon")&&$(".local-bfaltformat-access-button").parent("span").hide()},1e3)})});var _=$(location).attr("href").indexOf("?")>0?$(location).attr("href").split("?")[1]:"",l=$(location).attr("href").indexOf("?")>0?$(location).attr("href").substring(0,$(location).attr("href").indexOf("?")):$(location).attr("href");if(e.length){if(null!==e.get("scroll")&&null!==e.get("oldlocation")&&e.get("oldlocation")==l){var s=1;if(-1!=_.search(/notifyeditingon/)){var c={x:.12,f:.0135};s+=c.x,e.set("scrollextras",c)}else if(-1!=_.search(/edit=1/)){var c={x:.02,f:0};s+=c.x,e.set("scrollextras",c)}else if(void 0!==e.get("scrollextras")){var c=JSON.parse(e.get("scrollextras"));s=s-c.x+c.f}$(document).scrollTop(e.get("scroll")*s)}else e.remove("oldlocation"),e.remove("scroll"),e.remove("scrollextras")}$(window).on("unload",function(t){var n=$(location).attr("href").indexOf("?")>0?$(location).attr("href").substring(0,$(location).attr("href").indexOf("?")):$(location).attr("href");e.set("scroll",$(document).scrollTop()),e.set("oldlocation",n)}),$(function(){"My Colorful Portrait"==$(".surveyTitle").html()&&setInterval(function(e){var t={orange:0,gold:0,blue:0,green:0},n=1;$.each(e,function(){if(1==n){var e=$(this).find("tr.raterow"),i=1;$.each(e,function(){var e=$(this).find("input:checked").val();e>=0&&(e++,1==i?t.orange+=e:2==i?t.gold+=e:3==i?t.blue+=e:4==i&&(t.green+=e)),i++})}else if(2==n){var e=$(this).find("tr.raterow"),i=1;$.each(e,function(){var e=$(this).find("input:checked").val();e>=0&&(e++,4==i?t.orange+=e:3==i?t.gold+=e:2==i?t.blue+=e:1==i&&(t.green+=e)),i++})}else if(3==n){var e=$(this).find("tr.raterow"),i=1;$.each(e,function(){var e=$(this).find("input:checked").val();e>=0&&(e++,3==i?t.orange+=e:1==i?t.gold+=e:2==i?t.blue+=e:4==i&&(t.green+=e)),i++})}else if(4==n){var e=$(this).find("tr.raterow"),i=1;$.each(e,function(){var e=$(this).find("input:checked").val();e>=0&&(e++,2==i?t.orange+=e:1==i?t.gold+=e:3==i?t.blue+=e:4==i&&(t.green+=e)),i++})}else if(5==n){var e=$(this).find("tr.raterow"),i=1;$.each(e,function(){var e=$(this).find("input:checked").val();e>=0&&(e++,3==i?t.orange+=e:4==i?t.gold+=e:2==i?t.blue+=e:1==i&&(t.green+=e)),i++})}else 6==n?$(this).find("input").val(t.orange):7==n?$(this).find("input").val(t.gold):8==n?$(this).find("input").val(t.blue):9==n&&$(this).find("input").val(t.green);if(t.orange+t.gold+t.blue+t.green>=10){var a=[],o=1;for(var d in t)a.push([d,t[d],o]),o++;a.sort(function(e,t){return t[1]-e[1]}),10==n?$(this).find("select :nth-child("+(a[0][2]+1)+")").prop("selected",!0):11==n?$(this).find("select :nth-child("+(a[1][2]+1)+")").prop("selected",!0):12==n?$(this).find("select :nth-child("+(a[2][2]+1)+")").prop("selected",!0):13==n&&$(this).find("select :nth-child("+(a[3][2]+1)+")").prop("selected",!0)}n++})},1e3,$(".surveyTitle").closest("form").children("fieldset"))}),$(function(){if($("#phpesp_response").length&&$(".quest_rate_randomizer").length)for(var e=$(".qn-answer table tr.raterow"),t=e.length-1;t>=0;t--){var n=Math.floor(Math.random()*e.length);e.eq(t).after(e[n])}}),$(function(){if($("#phpesp_response").length&&$(".quest_randomizer").length){for(var e=$(".qn-container"),t=parseInt($(".qn-number").first().text()),n=e.length-1;n>=0;n--){var i=Math.floor(Math.random()*e.length);e.eq(n).after(e[i])}var e=$(".qn-number");if(e.length)for(var n=0;n<e.length;n++)e.eq(n).text(t+n)}if($(".qn-answer input[type='checkbox']").length&&$(".quest_randomizer").length)for(var a=$(".qn-answer input[type='checkbox']"),n=a.length-1;n>=0;n--){var i=n;do i=Math.floor(Math.random()*a.length);while(i==n);a.eq(n).before($(a[i]).nextAll().addBack().slice(0,3))}}),$(function(){var t=window.location.href;t.search("mod/quiz/report.php")>0&&t.search("&mode=grading")>0&&(e.remove("scroll"),$(document).scrollTop(0))}),$(function(){$(document).ready(function(){$("a:not(a:has(img))").not(".moodle-actionmenu a, .disabled a, a[class*='nav'], .btn, .section-navigation a, footer a, .breadcrumb a, .tree_item a, a[id*='label'], a:has(i), .tree_item").each(function(){0==$(this).prev().find("img").length&&0==$(this).prev().find("i").length&&$(this).text().length>0&&!$(this).find(".card-img-top").length?this.hostname&&this.hostname!==location.hostname&&$(this).addClass("autolink notreally"):void 0!==$(this).prev()[0]&&void 0!==$(this).prev()[0].nextSibling&&$(this).prev()[0].nextSibling.length>3&&this.hostname&&this.hostname!==location.hostname&&$(this).toggleClass("autolink notreally")})})}),$(function(){var e=function(){var e=this.nodeName.toLowerCase(),t=document.createElement("input"===e?"textarea":"input"),n=$(this).prop("attributes");$.each(n,function(){$(t).attr(this.name,this.value)}),t.rows=5,this.parentNode.replaceChild(t,this),$(t).val("input"===e?$(this).val().replace(/ {5}/g,"\r\n"):$(this).val().replace(/(\r\n|\n|\r)/gm,"     ")),"input"==e&&$(t).focus()};$(document).on("focus",'input[name*="feedback"]input[type=text]',e),$(document).on("blur",'textarea[name*="feedback"]',e)}),$(function(){var e=function(){$("a[id^=comment-action-post]")[0].click()};$("form[data-region='grading-actions-form']").on("click","button[name^=save]",e)}),$(function(){$(".dropdown-menu .fa-area-chart").closest("div").length>1&&$(".dropdown-menu .fa-area-chart").closest("div")[1].remove()}),$(function(){$(".row-fluid").addClass("row")}),$(function(){$(".no-overflow > .no-overflow").css("overflow","hidden")}),$(function(){$(".rhvariable").each(function(e){var t=$(this).attr("name"),n=$(this).val();$("a[href").each(function(){this.href.indexOf("#")>-1&&(this.href=this.href.replace("#"+t,n))})})}),$(function(){$("#page-login-index").length&&($(".login-divider:last").insertBefore($(".login-form")),$(".login-identityproviders").insertBefore($(".login-divider:first")),$(".login-identityprovider-btn").addClass("btn-primary"),$(".login-form").wrap('<div><div class="rosemanualtoggle" style="display:none"></div></div>'),$(".rosemanualtoggle").before('<button class="rosemanualtoggle btn btn-block btn-secondary" onclick="jQuery(\'.rosemanualtoggle\').toggle()">Guest Login Form</button>'))}),$(function(){function e(){$("iframe, embed, object").not(".sketch_iframe").not("div[data-fieldtype='editor'] iframe","div[data-fieldtype='editor'] embed","div[data-fieldtype='editor'] object").not(".panopto-flexible-iframe").each(function(e,t){let n=void 0!==t.src?t.src:void 0!==t.data&&t.data;if(!1!==n){let i=!!(n.indexOf("youtube")>0||n.indexOf("youtu.be")>0),a=!!(n.indexOf("/lib/editor/tiny/plugins/panoptoltibutton/view")>0||n.indexOf("/lib/editor/atto/plugins/panoptoltibutton/view")>0||n.indexOf("panopto.com/Panopto/Pages/Embed")>0);if(void 0!==t.type&&t.type.indexOf("flash")>0&&(i||a)){$(this).removeAttr("type");let o=$(this).clone();$(this).after(o),a&&$(this).parent().prev().find("img").parent().remove(),$(this).remove()}(i||a)&&($(this).css({width:"",height:""}),$(this).removeAttr("width height"),$(this).addClass("panopto-flexible-iframe"),$(this).wrap('<div class="panopto-flexible-container">'))}})}e(),setInterval(e,2e3)}),$(function(){$("iframe, embed, object").not(".sketch_iframe").not("div[data-fieldtype='editor'] iframe","div[data-fieldtype='editor'] embed","div[data-fieldtype='editor'] object").each(function(e,t){let n=void 0===t.src?t.src:"";if(void 0!==(n=""==n?t.data:n)&&n.indexOf(".pdf")>0){var i={};i.data=this.data,i.src=this.src,i.width=this.width,i.height=this.height,this.type="application/pdf",this.data=i.data,this.src=i.src,this.width=i.width>0?i.width:"100%",this.height=i.height>0?i.height:"500px"}})}),$(function(){$("a[href*='.']").filter(function(){return $(this).attr("href").match(/\.(glb|gltf)$/i)}).each(function(){let e=$(this).data();JSON.stringify(e),$(this).before('<iframe style="border:0;width:100%;height:600px" src="'+M.cfg.wwwroot+"/rh/3dviewer.php?file="+encodeURIComponent($(this).attr("href"))+"&"+$.param(e)+'"></iframe>')})}),$(function(){$(".rh_toggler").each(function(){$(this).data("rows");var e=$(this).closest("li.activity"),t=function e(t){var n=$(t).next("li");if($(t).find(".rh_toggler").length>0){if($(t).next(".rh_toggler_hide").length>0)n=$(t).next().next();else{var i=$(t).find(".rh_toggler").data("rows");t=$(t).next("li");for(var a=1;a<=i;)t=$(t).find(".rh_toggler").length>0?e($(t)):$(t).next("li"),a++;n=t}}return n}(e);$(e).nextUntil(t).wrapAll("<div class='rh_toggler_hide'></div>"),$(this).addClass("fa"),$(".editing").length?$(this).addClass("fa-chevron-circle-down"):($(this).addClass("rh_toggler_hidden"),$(this).addClass("fa-chevron-circle-right"),$(e).next().hide()),$(this).click(function(){$(this).hasClass("rh_toggler_hidden")?($(this).removeClass("rh_toggler_hidden"),$(this).removeClass("fa-chevron-circle-right"),$(this).addClass("fa-chevron-circle-down"),$(e).next().show("slow")):($(this).addClass("rh_toggler_hidden"),$(this).addClass("fa-chevron-circle-right"),$(this).removeClass("fa-chevron-circle-down"),$(e).next().hide("hide"))})})}),$(function(){var e=[];$(".gradereport-grader-table tr").each(function(){var t=[];$(this).find("input.form-control").each(function(e){t[e]=$(this).attr("id")}),t.length&&e.push(t)}),e.forEach(function e(t,n,i){t.forEach(function(e,t){$("body").on("keydown","#"+e,function(e){var a=e.keyCode||e.which;e.shiftKey&&9==a?(e.preventDefault(),void 0!==i[n-1]&&$("#"+i[n-1][t]).focus()):9==a&&(e.preventDefault(),void 0!==i[n+1]&&$("#"+i[n+1][t]).focus())})})})})});